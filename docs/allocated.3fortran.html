<h3><strong>Name</strong></h3>
<p><strong>allocated</strong>(3) - [ARRAY INQUIRY] Status of an allocatable entity</p>
<h3><strong>Syntax</strong></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode fortran"><code class="sourceCode fortran"><a class="sourceLine" id="cb1-1" title="1">  <span class="kw">result</span> <span class="kw">=</span> <span class="fu">allocated</span>(array)</a></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode fortran"><code class="sourceCode fortran"><a class="sourceLine" id="cb2-1" title="1">  <span class="kw">result</span> <span class="kw">=</span> <span class="fu">allocated</span>(scalar)</a></code></pre></div>
<h3><strong>Description</strong></h3>
<p><strong>allocated(array)</strong> and <strong>allocated(scalar)</strong> check the allocation status of <strong>array</strong> and <strong>scalar</strong>, respectively.</p>
<h3><strong>Arguments</strong></h3>
<ul class="incremental">
<li><p><strong>array</strong> : the argument shall be an <em>allocatable</em> array or allocatable scalar.</p></li>
<li><p><strong>scalar</strong> : the argument shall be an <em>allocatable</em> scalar.</p></li>
</ul>
<h3><strong>Returns</strong></h3>
<p>The return value is a scalar <em>logical</em> with the default logical kind type parameter. If the argument is allocated then the result is <em>.true.</em>; otherwise, it returns <em>.false.</em>.</p>
<h3><strong>Examples</strong></h3>
<p>Sample program:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode fortran"><code class="sourceCode fortran"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">program</span> demo_allocated</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">use</span>,<span class="kw">intrinsic</span> <span class="dt">::</span> iso_fortran_env, <span class="kw">only</span> : dp<span class="kw">=</span><span class="op">&gt;</span>real64,sp<span class="kw">=</span><span class="op">&gt;</span>real32</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">implicit</span> <span class="kw">none</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="dt">integer</span> <span class="dt">::</span> i <span class="kw">=</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="dt">real(kind=sp)</span>, <span class="dt">allocatable</span> <span class="dt">::</span> x(:)</a>
<a class="sourceLine" id="cb3-6" title="6"><span class="dt">character(len=256)</span> <span class="dt">::</span> message</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="dt">integer</span> <span class="dt">::</span> istat</a>
<a class="sourceLine" id="cb3-8" title="8"></a>
<a class="sourceLine" id="cb3-9" title="9">   <span class="co">! if already allocated, deallocate</span></a>
<a class="sourceLine" id="cb3-10" title="10">   <span class="kw">if</span> ( <span class="fu">allocated</span>(x) ) <span class="kw">deallocate</span>(x,STAT<span class="kw">=</span>istat, ERRMSG<span class="kw">=</span>message )</a>
<a class="sourceLine" id="cb3-11" title="11">   <span class="kw">if</span>(istat<span class="op">.ne.</span><span class="dv">0</span>)<span class="kw">then</span></a>
<a class="sourceLine" id="cb3-12" title="12">      <span class="fu">write(*</span>,<span class="fu">*)trim</span>(message)</a>
<a class="sourceLine" id="cb3-13" title="13">      <span class="kw">stop</span></a>
<a class="sourceLine" id="cb3-14" title="14">   <span class="kw">endif</span></a>
<a class="sourceLine" id="cb3-15" title="15"></a>
<a class="sourceLine" id="cb3-16" title="16">   <span class="co">! only if not allocated, allocate</span></a>
<a class="sourceLine" id="cb3-17" title="17">   <span class="kw">if</span> ( <span class="op">.not.</span> <span class="fu">allocated</span>(x) ) <span class="kw">allocate</span>(x(i))</a>
<a class="sourceLine" id="cb3-18" title="18"></a>
<a class="sourceLine" id="cb3-19" title="19">   <span class="fu">write(*</span>,<span class="fu">*)allocated</span>(x), <span class="fu">size</span>(x)</a>
<a class="sourceLine" id="cb3-20" title="20">   <span class="kw">if</span>( <span class="fu">allocated</span>(x)) <span class="kw">then</span></a>
<a class="sourceLine" id="cb3-21" title="21">       <span class="fu">write(*</span>,<span class="fu">*)</span><span class="st">&#39;do things if allocated&#39;</span></a>
<a class="sourceLine" id="cb3-22" title="22">   <span class="kw">else</span></a>
<a class="sourceLine" id="cb3-23" title="23">       <span class="fu">write(*</span>,<span class="fu">*)</span><span class="st">&#39;do things if not allocated&#39;</span></a>
<a class="sourceLine" id="cb3-24" title="24">   <span class="kw">endif</span></a>
<a class="sourceLine" id="cb3-25" title="25"></a>
<a class="sourceLine" id="cb3-26" title="26">   <span class="kw">call</span> intentout(x)</a>
<a class="sourceLine" id="cb3-27" title="27">   <span class="fu">write(*</span>,<span class="fu">*)</span><span class="st">&#39;note it is deallocated!&#39;</span>,<span class="fu">allocated</span>(x)</a>
<a class="sourceLine" id="cb3-28" title="28"></a>
<a class="sourceLine" id="cb3-29" title="29">   <span class="kw">contains</span></a>
<a class="sourceLine" id="cb3-30" title="30"></a>
<a class="sourceLine" id="cb3-31" title="31">   <span class="kw">subroutine</span> intentout(arr)</a>
<a class="sourceLine" id="cb3-32" title="32">   <span class="co">! note that if arr has intent(out) and is allocatable,</span></a>
<a class="sourceLine" id="cb3-33" title="33">   <span class="co">! arr is deallocated on entry</span></a>
<a class="sourceLine" id="cb3-34" title="34"><span class="dt">   real(kind=sp)</span>,<span class="dt">intent(out)</span>,<span class="dt">allocatable</span> <span class="dt">::</span> arr(:)</a>
<a class="sourceLine" id="cb3-35" title="35">       <span class="fu">write(*</span>,<span class="fu">*)</span><span class="st">&#39;note it was allocated in calling program&#39;</span>,<span class="fu">allocated</span>(arr)</a>
<a class="sourceLine" id="cb3-36" title="36">   <span class="kw">end subroutine</span> intentout</a>
<a class="sourceLine" id="cb3-37" title="37"></a>
<a class="sourceLine" id="cb3-38" title="38"><span class="kw">end program</span> demo_allocated</a></code></pre></div>
<p>Results:</p>
<pre class="text"><code>    T           4
    do things if allocated
    note it was allocated in calling program F
    note it is deallocated! F
</code></pre>
<h3><strong>Standard</strong></h3>
<p>Fortran 95 and later. Note, the scalar= keyword and allocatable scalar entities are available in Fortran 2003 and later.</p>
<h3><strong>See Also</strong></h3>
<p><a href="#move_alloc"><strong>move_alloc</strong>(3)</a></p>
<p><em>fortran-lang intrinsic descriptions</em></p>
