<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace}
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 1.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<body>
<h5><a href="index.html">[UP]</a></h5>
<div id="Container">
<div id="Content">

<h1 align="center">pack</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNTAX">SYNTAX</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#ARGUMENTS">ARGUMENTS</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#EXAMPLE">EXAMPLE</a><br>
<a href="#STANDARD">STANDARD</a><br>
<a href="#CLASS">CLASS</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>pack(3f)</b>
- [FORTRAN:INTRINSIC:ARRAY CONSTRUCTION] Pack an array into
an array of rank one</p>

<h2>SYNTAX
<a name="SYNTAX"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">result =
<b>pack</b>(array, mask[,vector])</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Stores the
elements of ARRAY in an array of rank one.</p>

<p style="margin-left:11%; margin-top: 1em">The beginning
of the resulting array is made up of elements whose MASK
equals TRUE. Afterwards, positions are filled with elements
taken from VECTOR.</p>

<h2>ARGUMENTS
<a name="ARGUMENTS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p style="margin-top: 1em"><b>ARRAY</b></p></td>
<td width="2%"></td>
<td width="78%">


<p style="margin-top: 1em">Shall be an array of any
type.</p> </td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>MASK</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>Shall be an array of type LOGICAL and of the same size
as ARRAY. Alternatively, it may be a LOGICAL scalar.</p></td></tr>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="9%">


<p><b>VECTOR</b></p></td>
<td width="2%"></td>
<td width="78%">


<p>(Optional) shall be an array of the same type as ARRAY
and of rank one. If present, the number of elements in
VECTOR shall be equal to or greater than the number of true
elements in MASK. If MASK is scalar, the number of elements
in VECTOR shall be equal to or greater than the number of
elements in ARRAY.</p></td></tr>
</table>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The result is
an array of rank one and the same type as that of ARRAY. If
VECTOR is present, the result size is that of VECTOR, the
number of TRUE values in MASK otherwise.</p>

<h2>EXAMPLE
<a name="EXAMPLE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Sample
program:</p>

<p style="margin-left:11%; margin-top: 1em">program
demo_pack <br>
implicit none <br>
call test1() <br>
call test2() <br>
call test3() <br>
contains <br>
! <br>
subroutine test1() <br>
! gathering nonzero elements from an array: <br>
integer :: m(6) <br>
m = [ 1, 0, 0, 0, 5, 0 ] <br>
write(*, fmt=&quot;(*(i0, &rsquo; &rsquo;))&quot;) pack(m, m
/= 0) ! &quot;1 5&quot; <br>
end subroutine test1 <br>
! <br>
subroutine test2() <br>
! Gathering nonzero elements from an array and appending
elements from VECTOR: <br>
integer :: m(4) <br>
m = [ 1, 0, 0, 2 ] <br>
write(*, fmt=&quot;(*(i0, &rsquo; &rsquo;))&quot;) pack(m, m
/= 0, [ 0, 0, 3, 4 ]) ! &quot;1 2 3 4&quot; <br>
end subroutine test2 <br>
! <br>
subroutine test3() <br>
! select strings whose second character is &quot;a&quot;
<br>
character(len=10) :: m(4) <br>
m = [ character(len=10) :: &rsquo;ape&rsquo;,
&rsquo;bat&rsquo;, &rsquo;cat&rsquo;, &rsquo;dog&rsquo;]
<br>
write(*, fmt=&quot;(*(g0, &rsquo; &rsquo;))&quot;) pack(m,
m(:)(2:2) == &rsquo;a&rsquo; ) ! &quot;bat&quot;
&quot;cat&quot; <br>
end subroutine test3 <br>
! <br>
end program demo_pack</p>

<p style="margin-left:11%; margin-top: 1em">Results:</p>

<p style="margin-left:22%; margin-top: 1em">1 5 1 2 3 4</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="22%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>bat</b></p></td>
<td width="6%"></td>
<td width="5%">


<p style="margin-top: 1em">cat</p></td>
<td width="63%">
</td></tr>
</table>

<h2>STANDARD
<a name="STANDARD"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">[[Fortran 95]]
and later</p>

<h2>CLASS
<a name="CLASS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">Transformational
function</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>unpack</b>(3)</p>
<hr>
<br><br><center><img src="images/IMAGE.gif"></center>
</div>
</div>
</body>
</html>
