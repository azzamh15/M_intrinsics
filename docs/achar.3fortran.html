<h3><strong>Name</strong></h3>
<p><strong>achar</strong>(3) - [CHARACTER:CONVERSION] returns a character in a specified position in the ASCII collating sequence</p>
<h3><strong>Syntax</strong></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode fortran"><code class="sourceCode fortran"><a class="sourceLine" id="cb1-1" title="1">  <span class="kw">result</span> <span class="kw">=</span> <span class="bu">achar</span>(i,<span class="fu">kind</span><span class="kw">=</span><span class="fu">KIND</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="dt">character(len=1)</span> <span class="kw">elemental</span> <span class="kw">function</span> <span class="dt">::</span> <span class="bu">achar</span>(i,<span class="fu">kind</span><span class="kw">=</span><span class="fu">KIND</span>)</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dt">integer(kind=KIND)</span>,<span class="dt">intent(in)</span> <span class="dt">::</span> i</a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="dt">integer(kind=KIND)</span>,<span class="dt">intent(in)</span>,<span class="dt">optional</span> <span class="dt">::</span> <span class="fu">kind</span></a></code></pre></div>
<p>where KIND may be any supported kind value for <em>integer</em> types.</p>
<h3><strong>Description</strong></h3>
<p><strong>achar(i)</strong> returns the character located at position <strong>i</strong> (commonly called the <em>ADE</em> or ASCII Decimal Equivalent) in the ASCII collating sequence.</p>
<p>The <strong>achar</strong>(3) function is often used for generating in-band escape sequences to control terminal attributes.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode fortran"><code class="sourceCode fortran"><a class="sourceLine" id="cb2-1" title="1">   <span class="fu">write(*</span>,<span class="st">&#39;(*(a))&#39;</span><span class="fu">)</span><span class="bu">achar</span>(<span class="dv">27</span>),<span class="st">&#39;[2J&#39;</span></a></code></pre></div>
<p>will clear the screen on an ANSI-compatible terminal display, for example.</p>
<h3><strong>Arguments</strong></h3>
<ul class="incremental">
<li><p><strong>i</strong> : the <em>integer</em> value to convert to an ASCII character, in the range 0 to 127.</p></li>
<li><p><strong>kind</strong> : (optional) an <em>integer</em> initialization expression indicating the kind parameter of the result.</p></li>
</ul>
<h3><strong>Returns</strong></h3>
<p>The return value is the requested character of type <em>character</em> with a length of one. If the <strong>kind</strong> argument is present, the return value is of the specified kind and of the default kind otherwise.</p>
<h3><strong>Examples</strong></h3>
<p>Sample program:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode fortran"><code class="sourceCode fortran"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">program</span> demo_achar</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">use</span>,<span class="kw">intrinsic</span><span class="dt">::</span>iso_fortran_env,<span class="kw">only</span>:int8,int16,int32,int64</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">implicit</span> <span class="kw">none</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="dt">integer</span> <span class="dt">::</span> i</a>
<a class="sourceLine" id="cb3-5" title="5">   i<span class="kw">=</span><span class="dv">65</span></a>
<a class="sourceLine" id="cb3-6" title="6">   <span class="fu">write(*</span>,<span class="st">&#39;(&quot;decimal     =&quot;,i0)&#39;</span><span class="fu">)</span>i</a>
<a class="sourceLine" id="cb3-7" title="7">   <span class="fu">write(*</span>,<span class="st">&#39;(&quot;character   =&quot;,a1)&#39;</span><span class="fu">)</span><span class="bu">achar</span>(i)</a>
<a class="sourceLine" id="cb3-8" title="8">   <span class="fu">write(*</span>,<span class="st">&#39;(&quot;binary      =&quot;,b0)&#39;</span><span class="fu">)</span><span class="bu">achar</span>(i)</a>
<a class="sourceLine" id="cb3-9" title="9">   <span class="fu">write(*</span>,<span class="st">&#39;(&quot;octal       =&quot;,o0)&#39;</span><span class="fu">)</span><span class="bu">achar</span>(i)</a>
<a class="sourceLine" id="cb3-10" title="10">   <span class="fu">write(*</span>,<span class="st">&#39;(&quot;hexadecimal =&quot;,z0)&#39;</span><span class="fu">)</span><span class="bu">achar</span>(i)</a>
<a class="sourceLine" id="cb3-11" title="11"></a>
<a class="sourceLine" id="cb3-12" title="12">   <span class="fu">write(*</span>,<span class="st">&#39;(8(i3,1x,a,1x),/)&#39;</span><span class="fu">)</span>(i,<span class="bu">achar</span>(i), i<span class="kw">=</span><span class="dv">32</span>,<span class="dv">126</span>)</a>
<a class="sourceLine" id="cb3-13" title="13"></a>
<a class="sourceLine" id="cb3-14" title="14">   <span class="fu">write(*</span>,<span class="st">&#39;(a)&#39;</span><span class="fu">)</span>upper(<span class="st">&#39;Mixed Case&#39;</span>)</a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">contains</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">! a classic use of achar(3) is to convert the case of a string</span></a>
<a class="sourceLine" id="cb3-17" title="17"></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="kw">elemental</span> <span class="kw">pure</span> <span class="kw">function</span> upper(str) <span class="kw">result</span> (string)</a>
<a class="sourceLine" id="cb3-19" title="19"><span class="co">!</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="co">!$@(#) upper(3f): function to return a trimmed uppercase-only string</span></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="co">!</span></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="co">! input string to convert to all uppercase</span></a>
<a class="sourceLine" id="cb3-23" title="23"><span class="dt">character(*)</span>, <span class="dt">intent(in)</span>      <span class="dt">::</span> str</a>
<a class="sourceLine" id="cb3-24" title="24"><span class="co">! output string that contains no miniscule letters</span></a>
<a class="sourceLine" id="cb3-25" title="25"><span class="dt">character(len(str))</span>           <span class="dt">::</span> string</a>
<a class="sourceLine" id="cb3-26" title="26"><span class="dt">integer</span>                       <span class="dt">::</span> i, iend</a>
<a class="sourceLine" id="cb3-27" title="27"><span class="dt">integer</span>,<span class="dt">parameter</span>             <span class="dt">::</span> toupper <span class="kw">=</span> <span class="bu">iachar</span>(<span class="st">&#39;A&#39;</span>)<span class="kw">-</span><span class="bu">iachar</span>(<span class="st">&#39;a&#39;</span>)</a>
<a class="sourceLine" id="cb3-28" title="28">   iend<span class="kw">=</span><span class="bu">len_trim</span>(str)</a>
<a class="sourceLine" id="cb3-29" title="29">   <span class="co">! initialize output string to trimmed input string</span></a>
<a class="sourceLine" id="cb3-30" title="30">   string <span class="kw">=</span> str(:iend)</a>
<a class="sourceLine" id="cb3-31" title="31">   <span class="co">! process each letter in the string</span></a>
<a class="sourceLine" id="cb3-32" title="32">   <span class="kw">do</span> concurrent (i <span class="kw">=</span> <span class="dv">1</span>:iend)</a>
<a class="sourceLine" id="cb3-33" title="33">       <span class="kw">select</span> <span class="kw">case</span> (str(i:i))</a>
<a class="sourceLine" id="cb3-34" title="34">       <span class="co">! located miniscule letter</span></a>
<a class="sourceLine" id="cb3-35" title="35">       <span class="kw">case</span> (<span class="st">&#39;a&#39;</span>:<span class="st">&#39;z&#39;</span>)</a>
<a class="sourceLine" id="cb3-36" title="36">          <span class="co">! change miniscule to majuscule letter</span></a>
<a class="sourceLine" id="cb3-37" title="37">          string(i:i) <span class="kw">=</span> <span class="bu">achar</span>(<span class="bu">iachar</span>(str(i:i))<span class="kw">+</span>toupper)</a>
<a class="sourceLine" id="cb3-38" title="38">       <span class="kw">end select</span></a>
<a class="sourceLine" id="cb3-39" title="39">   <span class="kw">enddo</span></a>
<a class="sourceLine" id="cb3-40" title="40"><span class="kw">end function</span> upper</a>
<a class="sourceLine" id="cb3-41" title="41"><span class="kw">end program</span> demo_achar</a></code></pre></div>
<p>Results:</p>
<pre><code>   decimal     =65
   character   =A
   binary      =1000001
   octal       =101
   hexadecimal =41
    32    33 !  34 &quot;  35 #  36 $  37 %  38 &amp;  39 &#39;

    40 (  41 )  42 *  43 +  44 ,  45 -  46 .  47 /

    48 0  49 1  50 2  51 3  52 4  53 5  54 6  55 7

    56 8  57 9  58 :  59 ;  60 &lt;  61 =  62 &gt;  63 ?

    64 @  65 A  66 B  67 C  68 D  69 E  70 F  71 G

    72 H  73 I  74 J  75 K  76 L  77 M  78 N  79 O

    80 P  81 Q  82 R  83 S  84 T  85 U  86 V  87 W

    88 X  89 Y  90 Z  91 [  92 \  93 ]  94 ^  95 _

    96 `  97 a  98 b  99 c 100 d 101 e 102 f 103 g

   104 h 105 i 106 j 107 k 108 l 109 m 110 n 111 o

   112 p 113 q 114 r 115 s 116 t 117 u 118 v 119 w

   120 x 121 y 122 z 123 { 124 | 125 } 126 ~
   MIXED CASE
</code></pre>
<h3><strong>Note</strong></h3>
<p>The ADEs (ASCII Decimal Equivalents) for ASCII are</p>
<pre><code>*-------*-------*-------*-------*-------*-------*-------*-------*
| 00 nul| 01 soh| 02 stx| 03 etx| 04 eot| 05 enq| 06 ack| 07 bel|
| 08 bs | 09 ht | 10 nl | 11 vt | 12 np | 13 cr | 14 so | 15 si |
| 16 dle| 17 dc1| 18 dc2| 19 dc3| 20 dc4| 21 nak| 22 syn| 23 etb|
| 24 can| 25 em | 26 sub| 27 esc| 28 fs | 29 gs | 30 rs | 31 us |
| 32 sp | 33  ! | 34  &quot; | 35  # | 36  $ | 37  % | 38  &amp; | 39  &#39; |
| 40  ( | 41  ) | 42  * | 43  + | 44  , | 45  - | 46  . | 47  / |
| 48  0 | 49  1 | 50  2 | 51  3 | 52  4 | 53  5 | 54  6 | 55  7 |
| 56  8 | 57  9 | 58  : | 59  ; | 60  &lt; | 61  = | 62  &gt; | 63  ? |
| 64  @ | 65  A | 66  B | 67  C | 68  D | 69  E | 70  F | 71  G |
| 72  H | 73  I | 74  J | 75  K | 76  L | 77  M | 78  N | 79  O |
| 80  P | 81  Q | 82  R | 83  S | 84  T | 85  U | 86  V | 87  W |
| 88  X | 89  Y | 90  Z | 91  [ | 92  \ | 93  ] | 94  ^ | 95  _ |
| 96  ` | 97  a | 98  b | 99  c |100  d |101  e |102  f |103  g |
|104  h |105  i |106  j |107  k |108  l |109  m |110  n |111  o |
|112  p |113  q |114  r |115  s |116  t |117  u |118  v |119  w |
|120  x |121  y |122  z |123  { |124  | |125  } |126  ~ |127 del|
*-------*-------*-------*-------*-------*-------*-------*-------*
</code></pre>
<h3><strong>Standard</strong></h3>
<p>FORTRAN 77 and later, with KIND argument Fortran 2003 and later</p>
<h3><strong>See Also</strong></h3>
<p><a href="#char"><strong>char</strong>(3)</a>, <a href="#iachar"><strong>iachar</strong>(3)</a>, <a href="#ichar"><strong>ichar</strong>(3)</a></p>
<h3><strong>Resources</strong></h3>
<ul class="incremental">
<li><a href="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape sequences</a></li>
<li><a href="https://github.com/urbanjost/M_attr">M_attr module</a> for controlling ANSI-compatible terminals</li>
</ul>
<p><em>fortran-lang intrinsic descriptions (license: MIT) @urbanjost</em></p>
