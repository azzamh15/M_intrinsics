<html> 
<head> 
<title> </title>
<style> 
px {font-family: "Lucida Console", Monaco, monospace}
p { font-size:100%; line-height:1.1em; }
body {xfont-style: sans-serif}
body {
color:#333; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:1em; line-height:1.3em; }
a:visited { color:#666; }
h1,h2,h3,h4,h5,h6 { color:#333; font-family:georgia, verdana, sans-serif; }
h1 { font-size:150%; page-break-before:auto;background-color: #aaaaff}
h2 { font-size:143%;color:teal; }
h3 { font-size:134%;color:blue; }
h4 { font-size:120%;color:gray; }
img { max-width: 55em}
p{ padding: 0;margin:0; }
p{ padding-right:1.4em; }
p{ padding-bottom:1em; }
p{ padding-top:1em; }
p{ whitespace: pre-wrap; }
h5,h6 { font-size:100% }
a.nav,a:link.nav, a:visited.nav { background-color:#FFF; color:#000; }
XXtable { border:double #000; border-collapse:collapse; }
XXtable { border-collapse:collapse; }
XXtd { border:thin solid #888; }
XXtd { border:none; }
li { margin-bottom:0.5em; }
blockquote { display:block; font-size:100%; line-height:1.1em; margin:0 0 1.5em; padding:0 2.5em; }
pre { background-color:#DDD; font-size:100%; overflow:auto; padding:1em; }
a,li span { color:#000; }
a:hover, a.nav:hover, a:hover math { background-color:#000; color:#FFF; }
#Container { margin:0 10px; text-align:center; background-color: #BBB}
#Content { border-top:none; margin:auto; padding:0.3em; text-align:left; width:100%; max-width:55em; background:#FFF}
span.webName { font-size:.5em; }
textarea#content { font-size: 1em; line-height: 1.125; }
h1#pageName { line-height:1em; margin:0.2em 0 0.2em 0; padding:0; }
.property { color:#666; font-size:100%; }
a.existingWikiWord[title]{ //border: 1px dashed #BBB; }
.byline { color:#666; font-size:1.0em; font-style:italic; margin-bottom:1em; padding-top:1px; } 
</style> 
</head>
<BODY bgcolor=#F0F0F0 text=#000000 link=#0000ff vlink=#C000C0 alink=#ff0000><A NAME=top></A>
<!--
<h5><a href="index.html">[UP]</a></h5>
-->
<button type="button" onclick="javascript:history.back()">Back</button>
<div id="Container">
<div id="Content">
<CENTER>
<H1><HR><I>Manual Reference Pages &nbsp;-&nbsp;</I><NOBR>get_environment_variable (3fortran)</NOBR><HR></H1>
</CENTER>
<A name=0>

     <H3>NAME</H3>

</A>
<BLOCKQUOTE>
<P>
<B>GET_ENVIRONMENT_VARIABLE</B>(3) - [SYSTEM:ENVIRONMENT] Get an environmental
variable
<P>
</BLOCKQUOTE>
<BLOCKQUOTE>
</BLOCKQUOTE>
<A name=7>

     <H3>SYNTAX</H3>

</A>
<BLOCKQUOTE>
<P>
call <B>get_environment_variable</B>(name, value, length, status, trim_name)
<P>
<PRE>
       character(len=*),intent(in) :: name
       character(len=*),intent(out),optional :: value
       integer,intent(out),optional :: length
       integer,intent(out),optional :: status
       logical,intent(out),optional :: trim_name
<P>
</PRE>
</BLOCKQUOTE>
<A name=2>

     <H3>DESCRIPTION</H3>

</A>
<BLOCKQUOTE>
<P>
Get the VALUE of the environmental variable NAME.
<P>
Note that <B>GET_ENVIRONMENT_VARIABLE</B>(3) need not be thread-safe. It is the
responsibility of the user to ensure that the environment is not being
updated concurrently.
</BLOCKQUOTE>
<A name=3>

     <H3>OPTIONS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
NAME : The name of the environment variable to query.
</TD></TR>
<TR></TR></TABLE><!-- .nf -->
<PRE>
    Shall be a scalar of type _character_ and of default kind.
<P>
</PRE>
</BLOCKQUOTE>
<A name=4>

     <H3>RETURNS</H3>

</A>
<BLOCKQUOTE>
<P>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
VALUE : The value of the environment variable being queried.
</TD></TR>
<TR></TR></TABLE><!-- .nf -->
<PRE>
    Shall be a scalar of type _character_ and of default kind. The value
    of NAME is stored in VALUE. If VALUE is not large enough to hold the
    data, it is truncated. If NAME is not set, VALUE will be filled with
    blanks.
<P>
</PRE>
<TABLE cellpadding=3>
<TR valign=top><TD width=3%>
o
</TD><TD>
LENGTH : Argument LENGTH contains the length needed for storing the
environment variable NAME or zero if it is not present.
<P>
Shall be a scalar of type _integer_ and of default kind.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
STATUS : STATUS is <B>-1</B> if VALUE is present but too short for the
environment variable; it is 1 if the environment variable does not
exist and 2 if the processor does not support environment variables;
in all other cases STATUS is zero.
<P>
Shall be a scalar of type _integer_ and of default kind.
</TD></TR>
<TR valign=top><TD width=3%>
o
</TD><TD>
TRIM_NAME : If TRIM_NAME is present with the value .FALSE., the
trailing blanks in NAME are significant; otherwise they are not part
of the environment variable name.
<P>
Shall be a scalar of type _logical_ and of default kind.
</TD></TR>
<TR></TR></TABLE></BLOCKQUOTE>
<A name=5>

     <H3>EXAMPLES</H3>

</A>
<BLOCKQUOTE>
<P>
Sample program:
<P>
<PRE>
    program demo_getenv
    implicit none
    character(len=:),allocatable :: homedir
    character(len=:),allocatable :: var
         var=&#146;HOME&#146;
         homedir=get_env(var)
         write (*,&#146;(a,"=""",a,"""")&#146;)var,homedir
<P>
    contains
<P>
    function get_env(NAME,DEFAULT) result(VALUE)
    ! a function that makes calling get_environment_variable(3) simple
    implicit none
    character(len=*),intent(in)          :: NAME
    character(len=*),intent(in),optional :: DEFAULT
    character(len=:),allocatable         :: VALUE
    integer                              :: howbig
    integer                              :: stat
    integer                              :: length
       ! get length required to hold value
       length=0
       VALUE=&#146;&#146;
       if(NAME.ne.&#146;&#146;)then
          call get_environment_variable( &
          & NAME, length=howbig,status=stat,trim_name=.true.)
          select case (stat)
          case (1)
           !*!print *, NAME, " is not defined in the environment. Strange&#46;&#46;&#46;"
           VALUE=&#146;&#146;
          case (2)
           !*!print *, &
           !*!"This processor does not support environment variables. Boooh!"
           VALUE=&#146;&#146;
          case default
           ! make string to hold value of sufficient size
           if(allocated(VALUE))deallocate(VALUE)
           allocate(character(len=max(howbig,1)) :: VALUE)
           ! get value
           call get_environment_variable( &
           & NAME,VALUE,status=stat,trim_name=.true.)
           if(stat.ne.0)VALUE=&#146;&#146;
          end select
       endif
       if(VALUE.eq.&#146;&#146;.and.present(DEFAULT))VALUE=DEFAULT
    end function get_env
<P>
    end program demo_getenv
<P>
</PRE>
Typical Results:
<P>
<PRE>
       HOME="/home/urbanjs"
<P>
</PRE>
</BLOCKQUOTE>
<A name=6>

     <H3>STANDARD</H3>

</A>
<BLOCKQUOTE>
<P>
Fortran 2003 and later
<P>
fortran-lang intrinsic descriptions (license: MIT) @urbanjost
</BLOCKQUOTE>
<P><HR>
<TABLE width=100%><TR> <TD width=33%><I>Nemo Release 3.1</I></TD> <TD width=33% align=center>get_environment_variable (3fortran)</TD> <TD align=right width=33%><I>September 04, 2022</I></TD> </TR></TABLE><FONT SIZE=-1>Generated by <A HREF="http://www.squarebox.co.uk/download/manServer.shtml">manServer 1.08</A> from 640f609d-f17a-4ff6-9e27-021b0f7f61ce using man macros.</FONT>
<br><br><center><img src="images/get_environment_variable.3fortran.gif"></center>
</div>
</div>
</body>
</HTML>
